[Privy docs home page![light logo](https://mintlify.s3.us-west-1.amazonaws.com/privy-c2af3412/logo/privy-logo-light.png)![dark logo](https://mintlify.s3.us-west-1.amazonaws.com/privy-c2af3412/logo/privy-logo-dark.png)](https://docs.privy.io/)

Search...

Ctrl KAsk AI

Search...

Navigation

[Welcome](https://docs.privy.io/welcome) [Basics](https://docs.privy.io/basics/get-started/about) [Authentication](https://docs.privy.io/authentication/overview) [Wallets](https://docs.privy.io/wallets/overview) [Connectors](https://docs.privy.io/wallets/connectors/overview) [Policies & controls](https://docs.privy.io/controls/overview) [User management](https://docs.privy.io/user-management/overview) [Security](https://docs.privy.io/security/overview) [Recipes](https://docs.privy.io/recipes/overview) [API reference](https://docs.privy.io/api-reference/introduction)

To sponsor gas fees for transactions on Solana, see our guide [here](https://docs.privy.io/wallets/gas-and-asset-management/gas/solana).

- React
- React Native
- Swift
- Android
- Flutter
- NodeJS
- REST API

To send a transaction from a wallet using the React SDK, use the `sendTransaction` method from the `useSendTransaction` hook:

Copy

Ask AI

```
sendTransaction: (input: {
  transaction: SupportedSolanaTransaction;
  connection: Connection;
  uiOptions?: SendTransactionModalUIOptions;
  transactionOptions?: SendTransactionOptions;
  fundWalletConfig?: SolanaFundingConfig;
  address?: string;
}) => Promise<SolanaTransactionReceipt>

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#usage)  Usage

Copy

Ask AI

```
import {useSendTransaction} from '@privy-io/react-auth/solana';
import {Connection, Transaction, VersionedTransaction} from '@solana/web3.js';

// Inside your component
const { sendTransaction } = useSendTransaction();

// Configure your connection to point to the correct Solana network
const connection = new Connection('https://api.mainnet-beta.solana.com');

// Create your transaction (either legacy Transaction or VersionedTransaction)
const transaction = new Transaction(); // or new VersionedTransaction()
// Add your instructions to the transaction...

// Send the transaction
const receipt = await sendTransaction({
    transaction: transaction,
    connection: connection
});

console.log("Transaction sent with signature:", receipt.signature);

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#parameters)  Parameters

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-transaction)

transaction

SupportedSolanaTransaction

required

The transaction to be sent. Can be either a legacy Transaction or VersionedTransaction from [@solana/web3.js](https://solana-labs.github.io/solana-web3.js/classes/Transaction.html).

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-connection)

connection

Connection

required

Connection to an SVM (Solana) network.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-ui-options)

uiOptions

SendTransactionModalUIOptions

UI options to customize the transaction request modal.

To hide confirmation modals, set `options.uiOptions.showWalletUIs` to `false`. Learn more about configuring modal prompts [here](https://docs.privy.io/recipes/react/manage-wallet-UIs).

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-transaction-options)

transactionOptions

SendTransactionOptions

Transaction options to customize the transaction request.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-fund-wallet-config)

fundWalletConfig

SolanaFundingConfig

Funding configuration to specify cluster and funding amount (if enabled), in the case of insufficient funds.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-address)

address

string

Address for the embedded wallet sending the transaction. Defaults to the user’s embedded wallet at HD index 0.

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#returns)  Returns

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-signature)

signature

string

The signature of the transaction.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-signed-transaction)

signedTransaction

SupportedSolanaTransaction

The signed transaction.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-parsed-transaction)

parsedTransaction

ParsedTransactionWithMeta \| null

The parsed transaction result.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-fees)

fees

bigint

The fees paid for the transaction in lamports.

To send a transaction from a wallet using the React SDK, use the `sendTransaction` method from the `useSendTransaction` hook:

Copy

Ask AI

```
sendTransaction: (input: {
  transaction: SupportedSolanaTransaction;
  connection: Connection;
  uiOptions?: SendTransactionModalUIOptions;
  transactionOptions?: SendTransactionOptions;
  fundWalletConfig?: SolanaFundingConfig;
  address?: string;
}) => Promise<SolanaTransactionReceipt>

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#usage)  Usage

Copy

Ask AI

```
import {useSendTransaction} from '@privy-io/react-auth/solana';
import {Connection, Transaction, VersionedTransaction} from '@solana/web3.js';

// Inside your component
const { sendTransaction } = useSendTransaction();

// Configure your connection to point to the correct Solana network
const connection = new Connection('https://api.mainnet-beta.solana.com');

// Create your transaction (either legacy Transaction or VersionedTransaction)
const transaction = new Transaction(); // or new VersionedTransaction()
// Add your instructions to the transaction...

// Send the transaction
const receipt = await sendTransaction({
    transaction: transaction,
    connection: connection
});

console.log("Transaction sent with signature:", receipt.signature);

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#parameters)  Parameters

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-transaction)

transaction

SupportedSolanaTransaction

required

The transaction to be sent. Can be either a legacy Transaction or VersionedTransaction from [@solana/web3.js](https://solana-labs.github.io/solana-web3.js/classes/Transaction.html).

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-connection)

connection

Connection

required

Connection to an SVM (Solana) network.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-ui-options)

uiOptions

SendTransactionModalUIOptions

UI options to customize the transaction request modal.

To hide confirmation modals, set `options.uiOptions.showWalletUIs` to `false`. Learn more about configuring modal prompts [here](https://docs.privy.io/recipes/react/manage-wallet-UIs).

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-transaction-options)

transactionOptions

SendTransactionOptions

Transaction options to customize the transaction request.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-fund-wallet-config)

fundWalletConfig

SolanaFundingConfig

Funding configuration to specify cluster and funding amount (if enabled), in the case of insufficient funds.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-address)

address

string

Address for the embedded wallet sending the transaction. Defaults to the user’s embedded wallet at HD index 0.

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#returns)  Returns

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-signature)

signature

string

The signature of the transaction.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-signed-transaction)

signedTransaction

SupportedSolanaTransaction

The signed transaction.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-parsed-transaction)

parsedTransaction

ParsedTransactionWithMeta \| null

The parsed transaction result.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-fees)

fees

bigint

The fees paid for the transaction in lamports.

To send a transaction from a wallet using the React Native SDK, use the `request` method from the wallet’s provider:

Copy

Ask AI

```
request: (request: {
  method: 'signAndSendTransaction',
  params: {
    transaction: Transaction | VersionedTransaction,
    connection: Connection
  }
}) => Promise<{ signature: string }>

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#usage-2)  Usage

Copy

Ask AI

```
import {Connection} from '@solana/web3.js';
import {useEmbeddedSolanaWallet} from '@privy-io/expo';

const { wallets } = useEmbeddedSolanaWallet();
const wallet = wallets[0];

// Get the provider
const provider = await wallet.getProvider();

// Create a connection to the Solana network
const connection = new Connection('insert-your-rpc-url-here');

// Create your transaction (either legacy Transaction or VersionedTransaction)
// transaction = ...

// Send the transaction
const { signature } = await provider.request({
  method: 'signAndSendTransaction',
  params: {
    transaction: transaction,
    connection: connection,
  },
});

console.log("Transaction sent with signature:", signature);

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#parameters-2)  Parameters

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-method)

method

'signAndSendTransaction'

required

The RPC method executed with the wallet.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-params)

params

Object

required

Parameters for the transaction.

Hide child attributes

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-transaction-1)

transaction

Transaction \| VersionedTransaction

required

The transaction to sign and send. This can be either a legacy Transaction or a VersionedTransaction object from [@solana/web3.js](https://solana-labs.github.io/solana-web3.js/classes/Transaction.html).

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-connection-1)

connection

Connection

required

Connection to an SVM (Solana) network.

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#returns-2)  Returns

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-signature-1)

signature

string

The signature of the transaction.

Sending a Solana transaction involves building the transaction, signing it, and then submitting it to the network.

Copy

Ask AI

```
public protocol EmbeddedSolanaWalletProvider {
    func signMessage(message: String) async throws -> String
}

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#usage-3)  Usage

Copy

Ask AI

```
import SolanaSwift

// Get the provider for wallet (assumes wallet is already obtained)
let provider = wallet.provider

// Create a Solana RPC client
let solana = JSONRPCAPIClient(endpoint: URL(string: "https://api.mainnet-beta.solana.com")!)

// Build the transaction using your preferred method
let latestBlockhash = try await solana.getLatestBlockhash()
let walletPK = try PublicKey(string: wallet.address)
var tx = Transaction()
tx.instructions.append(
    SystemProgram.transferInstruction(
        from: walletPK,
        to: try PublicKey(string: "9NvE68JVWHHHGLp5NNELtM5fiBw6SXHrzqQJjUqaykC1"),
        lamports: 100000000000000
    )
)
tx.recentBlockhash = latestBlockhash
tx.feePayer = walletPK

// Serialize the transaction for signing as base64
let message = try tx.compileMessage().serialize().base64EncodedString()

// Sign using the Privy Embedded Wallet
let signature = try await provider.signMessage(message: message)

// Add the signature back to the transaction
try tx.addSignature(signature: Data(base64Encoded: signature)!, publicKey: walletPK)

// Send the transaction via a JSON-RPC call
let txHash = try await solana.sendTransaction(transaction: tx.serialize().base64EncodedString())

print("Transaction sent with hash: \(txHash)")

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#parameters-3)  Parameters

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-message)

message

String

required

The base64-encoded serialized transaction message to sign.

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#returns-3)  Returns

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-signature-2)

signature

String

The base64-encoded signature for the transaction.

Use the `signMessage` method on the Solana wallet provider to sign a transaction and then submit it to the network.

Copy

Ask AI

```
public suspend fun signMessage(message: String): Result<String>

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#usage-4)  Usage

Copy

Ask AI

```
// Retrieve user's Solana wallet (assumes wallet is already obtained)
val solanaWallet = user.embeddedSolanaWallets.first()

// Create a Solana RPC client
val connection = Connection("https://api.mainnet-beta.solana.com")

// Build the transaction
val walletPublicKey = PublicKey(solanaWallet.address)
val instruction = SystemProgram.transfer(
    fromPubkey = walletPublicKey,
    toPubkey = PublicKey(recipientAddress),
    lamports = amount
)

// Get recent blockhash
val recentBlockhash = connection.getLatestBlockhash()

// Create transaction
val transaction = Transaction()
transaction.add(instruction)
transaction.recentBlockhash = recentBlockhash
transaction.feePayer = walletPublicKey

// Serialize transaction to base64
val serializedTransaction = transaction.serializeMessage().base64()

// Sign the transaction message
val result = solanaWallet.provider.signMessage(serializedTransaction)

when (result) {
    is Result.Success -> {
        // Add signature to transaction
        val signature = result.data
        transaction.addSignature(walletPublicKey, Base64.decode(signature))

        // Send the transaction
        val txHash = connection.sendRawTransaction(transaction.serialize())
        // Handle successful transaction
    }
    is Result.Failure -> {
        // Handle error
    }
}

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#parameters-4)  Parameters

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-message-1)

message

String

required

The base64-encoded serialized transaction message to sign.

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#returns-4)  Returns

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-result)

result

Result<String>

A Result that, when successful, contains the base64-encoded signature.

Use the `signMessage` method on the Solana wallet provider to sign a transaction and then submit it to the network.

Copy

Ask AI

```
Future<Result<String>> signMessage(String message);

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#usage-5)  Usage

Copy

Ask AI

```
// Retrieve the user's Solana wallet (assumes wallet is already obtained)
final solanaWallet = user.embeddedSolanaWallets.first;

// Create a Solana RPC client
final connection = Connection('https://api.mainnet-beta.solana.com');

// Build the transaction
final walletPublicKey = PublicKey(solanaWallet.address);
final instruction = SystemProgram.transfer(
    fromPubkey: walletPublicKey,
    toPubkey: PublicKey(recipientAddress),
    lamports: amount
);

// Get recent blockhash
final recentBlockhash = await connection.getLatestBlockhash();

// Create transaction
final transaction = Transaction();
transaction.add(instruction);
transaction.recentBlockhash = recentBlockhash;
transaction.feePayer = walletPublicKey;

// Serialize transaction to base64
final serializedTransaction = base64Encode(transaction.serializeMessage());

// Sign the transaction message
final result = await solanaWallet.provider.signMessage(serializedTransaction);

// Handle the result
result.when(
    success: (signature) {
        // Add signature to transaction
        transaction.addSignature(walletPublicKey, base64Decode(signature));

        // Send the transaction
        connection.sendRawTransaction(transaction.serialize())
          .then((txHash) {
            print('Transaction sent with hash: $txHash');
          });
    },
    failure: (error) {
        print('Failed to sign transaction: $error');
    },
);

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#parameters-5)  Parameters

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-message-2)

message

String

required

The base64-encoded serialized transaction message to sign.

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#returns-5)  Returns

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-result-1)

result

Result<String>

A Result that, when successful, contains the base64-encoded signature.

Use the `signAndSendTransaction` method on the Solana client to send a transaction with a Solana wallet.

Copy

Ask AI

```
signAndSendTransaction: (input: SolanaSignAndSendTransactionInputType) => Promise<SolanaSignAndSendTransactionResponseType>

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#usage-6)  Usage

Copy

Ask AI

```
import {
  PublicKey,
  SystemProgram,
  VersionedTransaction,
  TransactionMessage,
} from '@solana/web3.js';

const walletPublicKey = new PublicKey(wallet.address);
const instruction = SystemProgram.transfer({
  fromPubkey: walletPublicKey,
  toPubkey: new PublicKey(recipientAddress),
  lamports: amount,
});

const message = new TransactionMessage({
  payerKey: walletPublicKey,
  instructions: [instruction],
  recentBlockhash,
});

const transaction = new VersionedTransaction(message.compileToV0Message());

const {hash} = await privy.walletApi.solana.signAndSendTransaction({
  walletId: 'insert-wallet-id',
  caip2: 'solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1', // Mainnet
  transaction: transaction,
});

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#parameters-6)  Parameters

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-wallet-id)

walletId

string

required

The ID of the wallet to send the transaction from.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-caip2)

caip2

string

required

The CAIP2 chain ID of the chain the transaction is being sent on.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-transaction-2)

transaction

Transaction \| VersionedTransaction

required

The transaction to sign and send. This can be either a legacy Transaction or a VersionedTransaction object from [@solana/web3.js](https://solana-labs.github.io/solana-web3.js/classes/Transaction.html).

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#returns-6)  Returns

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-hash)

hash

string

The hash for the broadcasted transaction.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-caip2-1)

caip2

string

The CAIP2 chain ID of the chain the transaction was sent on.

To send a transaction make a POST request to

Copy

Ask AI

```
https://api.privy.io/v1/wallets/<wallet_id>/rpc

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#usage-7)  Usage

Copy

Ask AI

```
$ curl --request POST https://api.privy.io/v1/wallets/<wallet_id>/rpc \
-u "<your-privy-app-id>:<your-privy-app-secret>" \
-H "privy-app-id: <your-privy-app-id>" \
-H "privy-authorization-signature: <authorization-signature-for-request>" \
-H 'Content-Type: application/json' \
-d '{
    "method": "signAndSendTransaction",
    "caip2": "solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",
    "params": {
        "transaction": "insert-base-64-encoded-serialized-transaction",
        "encoding": "base64"
    }
}'

```

A successful response will look like the following:

Copy

Ask AI

```
{
    "method": "signAndSendTransaction",
    "data": {
        "hash": "insert-transaction-hash",
        "caip2": "solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"
    }
}

```

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#parameters-7)  Parameters

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-method-1)

method

'signAndSendTransaction'

required

The RPC method executed with the wallet.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-caip2-2)

caip2

string

required

The CAIP2 chain ID to broadcast the transaction on.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-params-1)

params

Object

required

Parameters for the RPC method to execute with the wallet.

Hide child attributes

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-transaction-3)

transaction

string

required

An encoded string serializing the transaction to be signed with the wallet.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-encoding)

encoding

'base64'

required

The encoding format for `params.transaction`. Currently, only `'base64'` is supported.

### [​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction\#returns-7)  Returns

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-method-2)

method

'signAndSendTransaction'

The RPC method executed with the wallet.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-data-hash)

data.hash

string

The hash for the broadcasted transaction.

[​](https://docs.privy.io/wallets/using-wallets/solana/send-a-transaction#param-data-caip2)

data.caip2

string

The CAIP2 chain ID the transaction was submitted on.

[Sign a message](https://docs.privy.io/wallets/using-wallets/solana/sign-a-message) [Sign a transaction](https://docs.privy.io/wallets/using-wallets/solana/sign-a-transaction)

Assistant

Responses are generated using AI and may contain mistakes.