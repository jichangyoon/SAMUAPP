<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <meta http-equiv="Content-Language" content="en" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <title>SAMU Meme Contest</title>
    <meta name="description" content="SAMU 토큰 홀더들을 위한 밈 콘테스트와 굿즈샵. 투표하고 상품을 받아보세요!" />
    <meta name="theme-color" content="#F4D03F" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="SAMU" />
  </head>
  <body>
    <div id="root"></div>
    <script>
      // Complete Node.js polyfills for Solana Web3.js
      window.global = globalThis;
      if (typeof global === 'undefined') {
        var global = globalThis;
      }
      
      // Process polyfill
      window.process = window.process || {
        env: { NODE_ENV: 'production' },
        nextTick: function(cb) { setTimeout(cb, 0); },
        browser: true,
        version: 'v18.0.0'
      };
      
      // Complete Buffer polyfill
      window.Buffer = class Buffer extends Uint8Array {
        static isBuffer(obj) {
          return obj instanceof Buffer;
        }
        
        static from(data, encoding) {
          if (typeof data === 'string') {
            if (encoding === 'base64') {
              const binaryString = atob(data);
              const bytes = new Uint8Array(binaryString.length);
              for (let i = 0; i < binaryString.length; i++) {
                bytes[i] = binaryString.charCodeAt(i);
              }
              return new Buffer(bytes);
            } else if (encoding === 'hex') {
              const bytes = new Uint8Array(data.length / 2);
              for (let i = 0; i < data.length; i += 2) {
                bytes[i / 2] = parseInt(data.substr(i, 2), 16);
              }
              return new Buffer(bytes);
            } else {
              const encoder = new TextEncoder();
              const bytes = encoder.encode(data);
              return new Buffer(bytes);
            }
          }
          if (data instanceof ArrayBuffer) {
            return new Buffer(data);
          }
          if (Array.isArray(data)) {
            return new Buffer(data);
          }
          if (data instanceof Uint8Array) {
            return new Buffer(data);
          }
          return new Buffer(data);
        }
        
        static alloc(size, fill) {
          const buf = new Buffer(size);
          if (fill !== undefined) {
            if (typeof fill === 'number') {
              buf.fill(fill);
            } else if (typeof fill === 'string') {
              const fillBytes = new TextEncoder().encode(fill);
              for (let i = 0; i < size; i++) {
                buf[i] = fillBytes[i % fillBytes.length];
              }
            }
          }
          return buf;
        }
        
        static allocUnsafe(size) {
          return new Buffer(size);
        }
        
        static concat(list, totalLength) {
          if (!totalLength) {
            totalLength = list.reduce((acc, buf) => acc + buf.length, 0);
          }
          const result = new Buffer(totalLength);
          let offset = 0;
          for (const buf of list) {
            result.set(buf, offset);
            offset += buf.length;
          }
          return result;
        }
        
        toString(encoding) {
          encoding = encoding || 'utf8';
          if (encoding === 'hex') {
            return Array.from(this).map(b => b.toString(16).padStart(2, '0')).join('');
          } else if (encoding === 'base64') {
            let binary = '';
            for (let i = 0; i < this.length; i++) {
              binary += String.fromCharCode(this[i]);
            }
            return btoa(binary);
          } else {
            const decoder = new TextDecoder(encoding);
            return decoder.decode(this);
          }
        }
        
        constructor(data) {
          if (typeof data === 'number') {
            super(data);
          } else if (data instanceof ArrayBuffer) {
            super(data);
          } else if (Array.isArray(data)) {
            super(data);
          } else if (data instanceof Uint8Array) {
            super(data);
          } else {
            super(0);
          }
        }
      };
      
      // Additional polyfills
      if (typeof window.setImmediate === 'undefined') {
        window.setImmediate = function(fn) { return setTimeout(fn, 0); };
      }
    </script>
    <script type="module" src="/src/main.tsx"></script>
    <!-- This is a replit script which adds a banner on the top of the page when opened in development mode outside the replit environment -->
    <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script>
  </body>
</html>